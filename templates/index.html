<!DOCTYPE html>
<html>
<head>
    <title>Top Songs</title>
</head>
<body>
    <h1>Top Songs</h1>
    <form method="POST" action="/TopSongs">
        <input type="radio" name="search_option" value="artist" checked> Artist
        <input type="radio" name="search_option" value="year"> Year
        <input type="text" name="search_query">
        <input type="submit" value="Search">
    </form>
    <div>
        {% if top_songs %}
            {{ top_songs | safe }}
        {% endif %}
    </div>
    <script>
        // Function to pause all other audio elements when a new one is played
        function pauseOtherAudios(currentAudio) {
            const audioElements = document.querySelectorAll('audio');
            audioElements.forEach(audio => {
                if (audio !== currentAudio) {
                    audio.pause();
                }
            });
        }

        // Function to play or pause the audio when the play button is clicked
        function toggleAudio(audio, playButton) {
            if (audio.paused) {
                pauseOtherAudios(audio);
                audio.play();
                playButton.innerText = 'Pause';
            } else {
                audio.pause();
                playButton.innerText = 'Play';
            }
        }

        // Add click event listeners to each play button
        const playButtons = document.querySelectorAll('.play-button');
        playButtons.forEach(button => {
            const audio = button.nextElementSibling;
            button.addEventListener('click', () => toggleAudio(audio, button));
        });
    </script>
</body>
</html>
